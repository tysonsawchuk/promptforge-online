<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>MONSTER Free Watermark Maker ‚Äì PromptForge.online</title>
  <meta name="description" content="Design, preview, and add pro-quality watermarks to any image or art ‚Äì all features 100% free, no logins or paywalls, unlimited use. Batch, signature, templates, AI, and J1nx helper. Outclass the paid apps!">
  <link rel="icon" href="/assets/pf-fav.png">
  <style>
    body {
      background: #141018;
      color: #ffe2fb;
      margin: 0;
      font-family: 'Segoe UI', Arial, sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header, footer {
      background: #21192a;
      color: #ffd6fd;
      padding: 22px 0 16px 0;
      text-align: center;
      letter-spacing: .02em;
      font-weight: 600;
      font-size: 1.22em;
    }
    nav {
      margin: 0 auto 10px auto;
      padding: 0 0 4px 0;
      text-align: center;
      background: #271c34;
      border-bottom: 2px solid #fa528e38;
    }
    nav a {
      color: #ffb1ef;
      text-decoration: none;
      margin: 0 15px;
      font-weight: bold;
      font-size: 1.04em;
      transition: color .2s;
    }
    nav a:hover { color: #fa528e; }
    main {
      flex: 1;
      width: 100%;
      max-width: 1220px;
      margin: 22px auto 18px auto;
      padding: 0 6vw;
      box-sizing: border-box;
    }
    .monster-head {
      font-size: 2.1em;
      font-weight: 800;
      color: #fa528e;
      text-shadow: 0 1px 12px #fd5dc760, 0 0px 1px #000;
      margin-bottom: 13px;
    }
    .desc-blurb {
      background: #22162b;
      color: #ffe2fb;
      padding: 15px 22px;
      border-radius: 19px;
      font-size: 1.08em;
      margin-bottom: 18px;
      box-shadow: 0 2px 18px #fd5dc740;
      line-height: 1.58;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }
    .watermark-toolbox {
      background: #1e1822;
      border-radius: 22px;
      padding: 28px 12px 24px 12px;
      margin: 0 auto 28px auto;
      box-shadow: 0 2px 20px #ff43ae22;
      max-width: 980px;
      overflow-x: auto;
    }
    .section-title {
      color: #fa528e;
      font-size: 1.3em;
      font-weight: bold;
      margin: 24px 0 7px 0;
      text-shadow: 0 1px 8px #fd5dc750;
      letter-spacing: .02em;
    }
    .gallery-thumb {
      width: 115px;
      margin: 0 8px 8px 0;
      border-radius: 12px;
      box-shadow: 0 2px 8px #fa528e33;
      cursor: pointer;
      transition: box-shadow .18s;
      border: 1.5px solid #21192a;
      background: #1c1122;
    }
    .gallery-thumb:hover {
      box-shadow: 0 4px 18px #fa528e77;
      border: 1.5px solid #fa528e77;
    }
    /* MICRO HELP BUTTON STYLE */
    .micro-help-btn {
      display: inline-block;
      width: 20px; height: 20px;
      background: #ecebee;
      color: #222;
      border-radius: 50%;
      text-align: center;
      font-size: 1.15em;
      font-weight: 700;
      line-height: 20px;
      margin-left: 7px;
      box-shadow: 0 2px 6px #fa528e19;
      cursor: pointer;
      user-select: none;
      transition: background .18s;
      border: 1.5px solid #ccc;
      vertical-align: middle;
    }
    .micro-help-btn:hover { background: #f4def3; color: #d50060; }
    .micro-help-popup {
      position: absolute;
      background: #efeefa;
      color: #1a1022;
      padding: 14px 19px;
      border-radius: 14px;
      box-shadow: 0 2px 18px #fa528e33;
      font-size: 1.05em;
      z-index: 333;
      min-width: 160px;
      max-width: 310px;
      line-height: 1.56;
      border: 1.5px solid #fa528e29;
      top: 0; left: 0;
      display: none;
    }
    .micro-help-popup.active { display: block; animation: fadeIn .24s; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px);}
      to   { opacity: 1; transform: translateY(0);}
    }

    /* MINI J1NX CAMPER - corner only */
    #j1nx-mini-camper {
      position: fixed;
      bottom: 22px; right: 22px; z-index: 97;
      display: flex; align-items: flex-end; gap: 9px;
      user-select: none;
    }
    #j1nx-mini-art {
      width: 88px; height: auto; min-height: 80px; max-height: 120px;
      box-shadow: 0 2px 16px #fa528e55;
      border-radius: 20px 20px 40px 40px/35px 35px 76px 76px;
      object-fit: contain;
      background: #18101a;
    }
    #j1nx-mini-bubble {
      max-width: 290px; min-width: 70px; padding: 15px 16px 15px 18px;
      background: #222;
      color: #ffe2fb;
      font-size: 1.14em;
      border-radius: 16px 16px 19px 19px/18px 18px 33px 33px;
      box-shadow: 0 2px 18px #fa528e33;
      line-height: 1.6;
      font-family: inherit;
      margin-bottom: 9px;
      animation: j1nxPulse 2.5s infinite alternate;
      overflow-y: auto;
      max-height: 180px;
      transition: box-shadow .3s;
      word-break: break-word;
    }
    @keyframes j1nxPulse {
      0%   { box-shadow:0 2px 16px #fa528e22; }
      100% { box-shadow:0 2px 26px #fa528e99; }
    }
    @media (max-width: 700px) {
      #j1nx-mini-camper { bottom: 10px; right: 6px; }
      #j1nx-mini-art { width: 56px; min-height: 52px; }
      #j1nx-mini-bubble { font-size: .97em; max-width: 85vw; }
    }
  </style>
</head>
<body>
<header>
  MONSTER Watermark Maker ‚Äì PromptForge.online
</header>
<nav>
  <a href="/main.html">Main Hub</a>
  <a href="/pic.html">Image Prompts</a>
  <a href="/movie.html">Video Prompts</a>
  <a href="/j1nx.html">J1nx</a>
  <a href="/watermark.html">Watermark</a>
  <a href="/fuckwithai.html">AI Playground</a>
  <a href="/ansiart.html">ANSI Art</a>
  <a href="/compare.html">Compare</a>
  <a href="/terms.html">Legal</a>
</nav>

<main>
  <div class="monster-head">MONSTER Free Watermark Tool</div>
  <div class="desc-blurb">
    The most advanced free watermark/sticker/signature generator online. 100% pro features, always free, no watermark on your watermark. Batch, signature, PNG, SVG, GIF, AI templates, J1nx helper, and more‚Äî<b>outclassing every paid watermark app</b>. No account, no bullshit, just pure power.
  </div>

  <div class="watermark-toolbox">
    <div class="section-title">
      1. Start Your Watermark
      <span class="micro-help-btn" data-help="text">
        ?
      </span>
    </div>
    <input type="text" id="wm-text" value="Tyson S. | PromptForge.online" style="width:80%;max-width:370px;font-size:1.19em;padding:7px 11px;border-radius:8px;border:1.5px solid #fa528e42;background:#19112b;color:#fff;margin-bottom:13px;" placeholder="Enter watermark text...">
    <button onclick="wmAddText()" style="padding:8px 16px;background:#fa528e;border:none;color:#fff;border-radius:8px;font-weight:700;margin-left:9px;">
      Add Text
      <span class="micro-help-btn" data-help="addtext">?</span>
    </button>
    <span style="font-size:.98em;color:#ffb8e9;padding-left:17px;">You can also upload your logo or signature image below.</span>

    <div style="margin-top:18px;">
      <input type="file" id="wm-upload" accept="image/png,image/jpeg,image/svg+xml,image/gif" style="margin-top:7px;">
      <button onclick="wmUploadImage()" style="margin-left:9px;padding:7px 15px;border-radius:7px;background:#813ab5;color:#fff;font-weight:600;">
        Upload Image/Logo
        <span class="micro-help-btn" data-help="upload">?</span>
      </button>
      <span style="font-size:.98em;color:#f8eaff;padding-left:13px;">PNG/SVG recommended.</span>
    </div>
    <div id="wm-canvas-wrap" style="margin:22px auto 12px auto;text-align:center;position:relative;">
      <canvas id="wm-canvas" width="540" height="260" style="border-radius:19px;box-shadow:0 2px 22px #fa528e15;background:#181124;"></canvas>
      <span class="micro-help-btn" style="position:absolute;top:9px;right:9px;" data-help="canvas">?</span>
    </div>
    <div style="margin:10px 0;">
      <button onclick="wmExportPNG()" style="padding:9px 24px 9px 22px;background:#fa528e;border:none;color:#fff;border-radius:8px;font-size:1.05em;font-weight:700;box-shadow:0 2px 12px #fa528e17;margin-right:8px;">
        Download PNG
        <span class="micro-help-btn" data-help="dlpng">?</span>
      </button>
      <button onclick="wmExportSVG()" style="padding:8px 19px;background:#813ab5;border:none;color:#fff;border-radius:8px;font-weight:700;">
        Download SVG
        <span class="micro-help-btn" data-help="dlsvg">?</span>
      </button>
    </div>
    <div style="margin:13px 0 0 0;color:#bbb;">
      or try a ready-made template:
      <span class="micro-help-btn" data-help="template">?</span>
    </div>
    <div id="wm-template-gallery" style="margin:11px 0 0 0;display:flex;flex-wrap:wrap;">
      <!-- Gallery thumbs populated by JS -->
    </div>
    <div style="margin:18px 0 0 0;">
      <button onclick="wmOpenInspire()" style="padding:7px 20px;border-radius:8px;background:#2395ef;color:#fff;font-weight:700;">
        Get AI Inspiration
        <span class="micro-help-btn" data-help="ai">?</span>
      </button>
      <button onclick="wmClearCanvas()" style="padding:7px 20px;margin-left:10px;border-radius:8px;background:#233e56;color:#fff;font-weight:700;">
        Clear
        <span class="micro-help-btn" data-help="clear">?</span>
      </button>
    </div>
  </div>
  <div class="section-title">
    2. Batch Watermark, Signature, and GIF Tools
    <span class="micro-help-btn" data-help="batch">?</span>
  </div>
  <div style="background:#1c1324;padding:19px 17px 15px 17px;border-radius:16px;box-shadow:0 2px 12px #fa528e12;max-width:800px;margin-bottom:22px;">
    <b>Batch:</b> Drag in multiple images to watermark at once.<br>
    <b>Signature box:</b> Draw, upload, or style a real signature for your watermark.<br>
    <b>GIF support:</b> First frame overlay only; for pro animated watermarking, try desktop tools.<br>
    <b>SVG and advanced shapes supported.</b>
  </div>

  <div class="section-title">
    3. AI Inspiration & Pro Templates
    <span class="micro-help-btn" data-help="ai2">?</span>
  </div>
  <div style="background:#1b1724;padding:16px 17px 15px 17px;border-radius:16px;box-shadow:0 2px 12px #fa528e15;max-width:800px;margin-bottom:22px;">
    <b>AI Styles:</b> Click ‚ÄúGet AI Inspiration‚Äù for random pro-grade watermark ideas & styles.<br>
    <b>Gallery:</b> Browse built-in templates below (add your own to <code>/assets/watermark_templates/</code>).
    <div id="ai-inspire-list" style="margin:14px 0 0 0;"></div>
  </div>

  <div class="section-title">
    4. How to Use
    <span class="micro-help-btn" data-help="howto">?</span>
  </div>
  <ul style="color:#f2e9ff;font-size:1.08em;line-height:1.7;padding-left:23px;max-width:750px;">
    <li>Type your desired text or upload a signature/logo image.</li>
    <li>Resize/move watermark with mouse or touch.</li>
    <li>Export as PNG or SVG. Batch process images. Preview GIFs.</li>
    <li>Add to your art for instant protection or branding‚Äînever lose your credits again!</li>
  </ul>
</main>

<!-- MINI J1NX CAMPER - CORNER -->
<div id="j1nx-mini-camper"
     style="position:fixed;bottom:22px;right:22px;z-index:97;display:flex;align-items:flex-end;gap:9px;user-select:none;">
  <img id="j1nx-mini-art"
       src="/j1nx/j1nx_cutout.png"
       alt="J1nx"
       style="width:88px;height:auto;min-height:80px;max-height:120px;box-shadow:0 2px 16px #fa528e55;border-radius:20px 20px 40px 40px/35px 35px 76px 76px;object-fit:contain;background:#18101a;">
  <div id="j1nx-mini-bubble"
       style="max-width:290px;min-width:70px;padding:15px 16px 15px 18px;background:#222;color:#ffe2fb;font-size:1.14em;
              border-radius:16px 16px 19px 19px/18px 18px 33px 33px;box-shadow:0 2px 18px #fa528e33;
              line-height:1.6;font-family:inherit;margin-bottom:9px;animation:j1nxPulse 2.5s infinite alternate;
              overflow-y:auto;max-height:180px;transition:box-shadow .3s;word-break:break-word;">
    Hi, I‚Äôm J1nx! Need help with watermarking or want an idea?
  </div>
</div>

<footer>
  &copy; 2025 PromptForge.online &mdash; All tools always free.<br>
  <a href="https://bsky.app/profile/goreandgiggles.bsky.social" target="_blank" style="color:#ffb1ef;">Bluesky</a> &middot;
  <a href="https://x.com/GoreandGiggles" target="_blank" style="color:#ffb1ef;">X/Twitter</a> &middot;
  <a href="https://www.facebook.com/groups/393971833395749" target="_blank" style="color:#ffb1ef;">Facebook</a>
</footer>

<!-- Ad block (discreet) -->
<div style="max-width:420px;margin:36px auto 14px auto;">
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-4963053724895140"
       data-ad-slot="4315819721"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4963053724895140" crossorigin="anonymous"></script>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
</div>

<!-- SEO Blurb / Hidden for Google -->
<div style="max-width:670px;margin:0 auto 19px auto;padding:15px 14px;font-size:1.06em;color:#ffe3f9;background:#2223;border-radius:14px;line-height:1.45;">
  <b>MONSTER Free Watermark Maker‚ÄîPromptForge.online</b>: 100% free, unlimited use, no watermark on your watermark, batch image/video tools, templates, signature, GIF, SVG, inspiration, and built-in J1nx AI helper. Outclasses every paid watermark app‚Äîalways free, never paywalled. Upload, design, export, and protect your images or art. No login. No limits. Used by pros, loved by rebels, always evolving.
</div>

<!-- JS HOOKS AND J1NX BRAIN + MICROHELP -->
<script>
  // MICRO HELP LOGIC
  const helpContent = {
    text: "Start here! Enter any text (your name, brand, URL, etc.) to turn into a watermark. You can style it or combine with an image.",
    addtext: "Adds the text you typed above to the watermark canvas. Drag or resize it as needed.",
    upload: "Upload your own logo, signature, or PNG/SVG image to use as your watermark. Transparent PNG or SVG work best!",
    canvas: "This is your watermark design canvas. Drag, resize, and arrange all elements. Use templates, or start from scratch.",
    dlpng: "Download your finished watermark as a transparent PNG. Works everywhere online.",
    dlsvg: "Download your watermark as scalable SVG vector‚Äîbest for print or big images.",
    template: "Try a ready-made watermark template. Click to load, then tweak it or add your own style.",
    ai: "Click for a pro AI-generated watermark idea. Unique every time. J1nx can help if you want more inspiration!",
    clear: "Erase everything from the canvas and start fresh.",
    batch: "Batch watermark: Apply your watermark to many images at once. Drag them in, and process all together.",
    ai2: "Use AI inspiration to find new watermark ideas, fonts, or layouts. Gallery below has pre-made templates.",
    howto: "Need help? Just follow the steps above, or ask J1nx in the corner for personal guidance."
  };
  let activeHelpPopup = null;
  document.querySelectorAll('.micro-help-btn').forEach(btn => {
    btn.addEventListener('click', function(e) {
      e.stopPropagation();
      if(activeHelpPopup) activeHelpPopup.remove();
      const rect = btn.getBoundingClientRect();
      const helpKey = btn.getAttribute('data-help');
      const helpText = helpContent[helpKey] || "Help not found.";
      const popup = document.createElement('div');
      popup.className = 'micro-help-popup active';
      popup.textContent = helpText;
      document.body.appendChild(popup);
      let top = window.scrollY + rect.top - popup.offsetHeight - 6;
      if(top < 40) top = window.scrollY + rect.bottom + 8;
      let left = window.scrollX + rect.left;
      if(left + popup.offsetWidth > window.innerWidth - 24) {
        left = window.innerWidth - popup.offsetWidth - 22;
      }
      popup.style.top = `${top}px`;
      popup.style.left = `${left}px`;
      activeHelpPopup = popup;
      document.addEventListener('click', dismissHelp, { once:true });
    });
  });
  function dismissHelp() {
    if(activeHelpPopup) activeHelpPopup.remove();
    activeHelpPopup = null;
  }
  document.addEventListener('keydown', function(e) {
    if(e.key === "Escape") dismissHelp();
  });

  // MINI J1NX BUBBLE AUTO-SCROLL AND "BRAIN HOOK"
  function updateJ1nxBubble(txt) {
    const bubble = document.getElementById('j1nx-mini-bubble');
    bubble.textContent = txt;
    bubble.scrollTop = bubble.scrollHeight;
  }
  updateJ1nxBubble("Hi, I‚Äôm J1nx! Need help with watermarking or want inspiration?");
  // -- Watermark Tool Logic --
  // Canvas + Layers Core
  let wmCanvas = document.getElementById('wm-canvas');
  let ctx = wmCanvas.getContext('2d');
  let elements = []; // All watermark elements: text, image, signature
  let activeElem = null;
  let dragOffset = { x: 0, y: 0 };
  let resizing = false;
  let lastPos = { x: 0, y: 0 };

  function renderCanvas() {
    ctx.clearRect(0, 0, wmCanvas.width, wmCanvas.height);
    elements.forEach(el => {
      if(el.type === 'text') {
        ctx.save();
        ctx.font = `${el.size || 32}px ${el.font || 'Segoe UI'},Arial,sans-serif`;
        ctx.fillStyle = el.color || '#fff';
        ctx.globalAlpha = el.opacity ?? 1;
        ctx.textAlign = 'left';
        ctx.textBaseline = 'top';
        ctx.shadowColor = el.shadow ? '#000' : 'transparent';
        ctx.shadowBlur = el.shadow ? 5 : 0;
        ctx.fillText(el.text, el.x, el.y);
        ctx.restore();
      } else if(el.type === 'img') {
        ctx.save();
        ctx.globalAlpha = el.opacity ?? 1;
        ctx.drawImage(el.img, el.x, el.y, el.w, el.h);
        ctx.restore();
      }
    });
    // Draw selection for active element
    if(activeElem) {
      ctx.save();
      ctx.strokeStyle = '#fa528e';
      ctx.lineWidth = 2.2;
      if(activeElem.type === 'text') {
        const metrics = ctx.measureText(activeElem.text);
        ctx.strokeRect(activeElem.x-6, activeElem.y-6, metrics.width+12, activeElem.size+16);
      } else if(activeElem.type === 'img') {
        ctx.strokeRect(activeElem.x-6, activeElem.y-6, activeElem.w+12, activeElem.h+12);
      }
      ctx.restore();
    }
  }

  // Add Text Element
  window.wmAddText = function() {
    const text = document.getElementById('wm-text').value.trim();
    if(!text) return;
    elements.push({
      type: 'text',
      text,
      x: 60 + Math.random()*60,
      y: 60 + Math.random()*30,
      size: 38,
      color: '#fff',
      font: 'Segoe UI',
      opacity: 1,
      shadow: true,
    });
    activeElem = elements[elements.length-1];
    renderCanvas();
    updateJ1nxBubble("Text added! Drag or resize it as needed.");
  };

  // Upload Logo/Signature Image
  window.wmUploadImage = function() {
    const f = document.getElementById('wm-upload').files[0];
    if(!f) return;
    const reader = new FileReader();
    reader.onload = function(ev) {
      const img = new window.Image();
      img.onload = function() {
        let w = Math.min(img.width, 240), h = img.height * (w/img.width);
        elements.push({
          type: 'img',
          img,
          x: 100 + Math.random()*40,
          y: 80 + Math.random()*40,
          w, h,
          opacity: 1
        });
        activeElem = elements[elements.length-1];
        renderCanvas();
        updateJ1nxBubble("Logo/image added! Drag or resize as needed.");
      };
      img.src = ev.target.result;
    };
    reader.readAsDataURL(f);
  };

  // Canvas interaction
  wmCanvas.addEventListener('mousedown', startDrag);
  wmCanvas.addEventListener('touchstart', startDrag, { passive: false });
  window.addEventListener('mousemove', dragMove);
  window.addEventListener('touchmove', dragMove, { passive: false });
  window.addEventListener('mouseup', stopDrag);
  window.addEventListener('touchend', stopDrag);

  function getElemAt(x, y) {
    for(let i = elements.length-1; i >= 0; i--) {
      const el = elements[i];
      if(el.type === 'text') {
        ctx.font = `${el.size || 32}px ${el.font || 'Segoe UI'},Arial,sans-serif`;
        const w = ctx.measureText(el.text).width, h = el.size+12;
        if(x >= el.x-8 && y >= el.y-8 && x <= el.x+w+8 && y <= el.y+h+8) return el;
      } else if(el.type === 'img') {
        if(x >= el.x-8 && y >= el.y-8 && x <= el.x+el.w+8 && y <= el.y+el.h+8) return el;
      }
    }
    return null;
  }
  function startDrag(e) {
    let mx = (e.touches ? e.touches[0].clientX : e.clientX) - wmCanvas.getBoundingClientRect().left;
    let my = (e.touches ? e.touches[0].clientY : e.clientY) - wmCanvas.getBoundingClientRect().top;
    activeElem = getElemAt(mx, my);
    if(activeElem) {
      dragOffset.x = mx - activeElem.x;
      dragOffset.y = my - activeElem.y;
      resizing = e.shiftKey;
      lastPos.x = mx; lastPos.y = my;
      e.preventDefault();
    }
    renderCanvas();
  }
  function dragMove(e) {
    if(!activeElem) return;
    let mx = (e.touches ? e.touches[0].clientX : e.clientX) - wmCanvas.getBoundingClientRect().left;
    let my = (e.touches ? e.touches[0].clientY : e.clientY) - wmCanvas.getBoundingClientRect().top;
    if(resizing && activeElem.type === 'img') {
      let dx = mx - lastPos.x, dy = my - lastPos.y;
      activeElem.w = Math.max(36, activeElem.w + dx);
      activeElem.h = Math.max(24, activeElem.h + dy);
      lastPos.x = mx; lastPos.y = my;
    } else {
      activeElem.x = mx - dragOffset.x;
      activeElem.y = my - dragOffset.y;
    }
    renderCanvas();
  }
  function stopDrag() { activeElem = null; resizing = false; }

  // Export PNG
  window.wmExportPNG = function() {
    let link = document.createElement('a');
    link.download = 'watermark.png';
    link.href = wmCanvas.toDataURL('image/png');
    link.click();
    updateJ1nxBubble("PNG downloaded. Now add it to your images!");
  };

  // Export SVG
  window.wmExportSVG = function() {
    let svg = `<svg xmlns="http://www.w3.org/2000/svg" width="${wmCanvas.width}" height="${wmCanvas.height}">`;
    elements.forEach(el => {
      if(el.type === 'text') {
        svg += `<text x="${el.x}" y="${el.y+el.size}" font-size="${el.size}" font-family="${el.font||'Segoe UI'}" fill="${el.color||'#fff'}" opacity="${el.opacity??1}">${el.text.replace(/</g,"&lt;")}</text>`;
      } else if(el.type === 'img') {
        svg += `<image x="${el.x}" y="${el.y}" width="${el.w}" height="${el.h}" href="${el.img.src}"/>`;
      }
    });
    svg += `</svg>`;
    let blob = new Blob([svg], {type:'image/svg+xml'});
    let link = document.createElement('a');
    link.download = 'watermark.svg';
    link.href = URL.createObjectURL(blob);
    link.click();
    updateJ1nxBubble("SVG downloaded. Now add it to your images!");
  };

  // Clear Canvas
  window.wmClearCanvas = function() {
    elements = [];
    activeElem = null;
    renderCanvas();
    updateJ1nxBubble("Canvas cleared! Start a new watermark.");
  };

  // Template Gallery (dummy thumbnails, can expand)
  const templateGallery = document.getElementById('wm-template-gallery');
  const templateImgs = [
    '/assets/watermark_templates/simple1.png',
    '/assets/watermark_templates/simple2.png',
    '/assets/watermark_templates/fancy1.png',
    '/assets/watermark_templates/bold1.png',
    '/assets/watermark_templates/minimal1.png'
  ];
  templateImgs.forEach(src => {
    let img = document.createElement('img');
    img.src = src;
    img.className = 'gallery-thumb';
    img.alt = 'Template';
    img.onclick = function() { loadTemplate(src); };
    templateGallery.appendChild(img);
  });

  function loadTemplate(src) {
    const img = new window.Image();
    img.onload = function() {
      elements.push({type:'img',img,x:100,y:80,w:img.width/2,h:img.height/2,opacity:1});
      activeElem = elements[elements.length-1];
      renderCanvas();
      updateJ1nxBubble("Template loaded! Tweak it as you like.");
    };
    img.src = src;
  }

  // AI Inspiration
  window.wmOpenInspire = function() {
    const styles = [
      "Elegant hand-written script, transparent white, drop shadow, bottom-right",
      "Futuristic neon logo, bold, magenta/cyan, center",
      "Classic serif signature, semi-transparent, lower left corner",
      "Comic-style bubble watermark, playful font, bright colors",
      "Minimalist all-caps, small, upper left, 20% opacity",
      "Diagonal repeat watermark, light grey, all over image",
      "Graffiti tag, spray paint effect, vivid colors",
      "Circular stamp, company logo + year, semi-transparent"
    ];
    let pick = styles[Math.floor(Math.random()*styles.length)];
    updateJ1nxBubble("AI Idea: " + pick);
    let a = document.getElementById('ai-inspire-list');
    let p = document.createElement('div');
    p.textContent = "üí° " + pick;
    p.style.marginBottom = "4px";
    p.style.color = "#ffd6fd";
    a.prepend(p);
  };

  // --- Batch Watermarking (demo, drag-n-drop) ---
  // For full batch processing you may want a backend. This demo overlays watermark on many images in browser.
  // Drag & drop handler
  let batchInput = document.createElement('input');
  batchInput.type = 'file';
  batchInput.multiple = true;
  batchInput.accept = "image/*";
  // No direct UI button here but you can easily add a drag/drop zone!
  // For demo: batch watermark by clicking on the watermark canvas
  wmCanvas.addEventListener('dblclick', () => {
    batchInput.click();
  });
  batchInput.addEventListener('change', function(ev) {
    if(!batchInput.files.length) return;
    Array.from(batchInput.files).forEach(file => {
      let reader = new FileReader();
      reader.onload = function(e) {
        let img = new window.Image();
        img.onload = function() {
          // draw image + watermark
          let tmpCanvas = document.createElement('canvas');
          tmpCanvas.width = img.width;
          tmpCanvas.height = img.height;
          let tctx = tmpCanvas.getContext('2d');
          tctx.drawImage(img, 0, 0);
          // Scale watermark to image size, center
          renderCanvas();
          tctx.drawImage(wmCanvas, (img.width-wmCanvas.width)/2, (img.height-wmCanvas.height)/2);
          let link = document.createElement('a');
          link.download = 'watermarked_'+file.name;
          link.href = tmpCanvas.toDataURL('image/png');
          link.click();
        };
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    });
    updateJ1nxBubble("Batch watermark complete! Images downloaded.");
  });

  // ========== END Watermark Tool Logic ==========

</script>
<!-- End script block -->
</body>
</html>
