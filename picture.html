<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ===== META / SEO ===== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PromptForge Online — NSFW/SFW Image & Video Prompt Builder</title>
  <meta name="description" content="PromptForge: pro-grade SFW/NSFW prompt builder with engine profiles, token chips, sliders, export presets, and a futuristic mixer. Build cinematic, photoreal prompts for SDXL, Flux, Midjourney, Runway, and more." />
  <meta name="keywords" content="PromptForge, prompt builder, SDXL, Flux, Midjourney, Runway, AI image prompts, NSFW prompts, SFW prompts, cinematic lighting, gel lighting, editorial, boudoir, video prompts, motion prompts, framing tokens" />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <link rel="canonical" href="https://promptforge.online/builder" />
  <link rel="icon" href="/favicon.ico" />
  <!-- Open Graph / Twitter -->
  <meta property="og:site_name" content="PromptForge Online" />
  <meta property="og:locale" content="en_CA" />
  <meta property="og:title" content="PromptForge — Pro AI Prompt Builder" />
  <meta property="og:description" content="Build elite SFW/NSFW prompts with engine-aware tokens, chip mixers, and one-click exporters." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://promptforge.online/" />
  <meta property="og:image" content="/og/promptforge_og.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="PromptForge — Pro AI Prompt Builder" />
  <meta name="twitter:description" content="Engine-aware prompt studio for SDXL, Flux, Midjourney, Runway, and more." />
  <meta name="twitter:image" content="/og/promptforge_og.jpg" />
  <meta name="theme-color" content="#0b0f14" />
  <!-- JSON-LD -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"Organization","name":"PromptForge Online","url":"https://promptforge.online/","logo":"/og/logo.png","sameAs":["https://x.com/GoreandGiggles","https://bsky.app/profile/goreandgiggles.bsky.social"]}
  </script>
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://promptforge.online/"},{"@type":"ListItem","position":2,"name":"Prompt Builder","item":"https://promptforge.online/builder"}]}
  </script>
  <!-- AdSense client (your ID) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4963053724895140" crossorigin="anonymous"></script>
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Fira+Mono:wght@400;700&display=swap" rel="stylesheet"/>

  <!-- ===== STYLES ===== -->
  <style>
    :root{
      --bg:#0b0f14; --panel:#10161d; --card:#121922; --edge:#232a33; --ink:#e7f7ff; --dim:#95a8b6;
      --aqua:#64f2e3; --aqua2:#23d7ba; --vio:#be9cff; --hot:#fa528e; --gold:#ffd166; --ok:#50fa7b; --err:#ff637d;
    }
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:Inter,ui-sans-serif,system-ui;overflow-x:hidden}
    a{color:var(--aqua);text-decoration:none} a:hover{text-decoration:underline}
    .wrap{max-width:1200px;margin:0 auto;padding:0 16px}

    /* Topbar */
    .topbar{position:sticky;top:0;z-index:3000;background:linear-gradient(180deg,rgba(13,18,25,.96),rgba(13,18,25,.82));backdrop-filter:blur(8px);border-bottom:1px solid #15212d}
    .topbar .inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 16px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,var(--aqua),var(--vio));box-shadow:0 0 0 2px #1b242e}
    .brand h1{margin:0;font-weight:800;letter-spacing:.2px;font-size:clamp(18px,2.2vw,26px)}
    .breadcrumbs{color:var(--dim);font-weight:600;font-size:.9em}
    .navlinks,.socials{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .navlinks a{padding:6px 10px;border:1px solid #22303c;border-radius:8px;background:#0f151d;color:#cfefff}
    .bmc-btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;border:1px solid #3a5569;background:linear-gradient(135deg,#1f2b39,#141b22);color:#fff;font-weight:800}

    /* Hero */
    .hero{display:grid;grid-template-columns:1.1fr .9fr;gap:18px;align-items:stretch;margin:18px auto 10px;max-width:1200px}
    .hero-card{background:linear-gradient(180deg,#0f141b,#0b1118);border:1px solid var(--edge);border-radius:18px;padding:20px}
    .chipbar{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
    .chip{background:#121a22;border:1px solid #22303c;color:#bfefff;border-radius:999px;padding:7px 11px;font-size:13px;cursor:pointer}

    /* Tool grid */
    .tool{display:grid;grid-template-columns:300px 1fr;gap:18px;max-width:1200px;margin:14px auto 24px}
    .sidebar{background:var(--panel);border:1px solid var(--edge);border-radius:16px;padding:14px;position:sticky;top:84px;max-height:calc(100vh - 100px);overflow:auto}
    .group{margin:10px 0 14px}
    .g-title{display:flex;align-items:center;gap:8px;font-weight:800;margin:0 0 6px 0}
    .help{display:inline-flex;align-items:center;justify-content:center;width:16px;height:16px;border-radius:50%;border:1px solid #39576b;color:#9fd;cursor:help;font-size:11px}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:8px}
    select,input[type="text"],textarea{width:100%;background:#0e151d;border:1px solid #243240;color:#d9f6ff;border-radius:10px;padding:10px 12px;font:inherit}
    textarea{min-height:104px;resize:vertical}
    .slider{appearance:none;width:100%} .slider::-webkit-slider-thumb{appearance:none;width:18px;height:18px;border-radius:50%;background:var(--aqua)} .slider::-webkit-slider-runnable-track{height:6px;border-radius:999px;background:#1a2631}
    .actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
    .btn{background:#121a22;border:1px solid #22303c;color:#bfefff;border-radius:10px;padding:10px 14px;font-weight:800;cursor:pointer}
    .btn.primary{background:linear-gradient(135deg,#1a2a36,#111a22);border-color:#3a5569;color:#fff}
    .btn.aqua{background:linear-gradient(135deg,#1c3138,#0e2a27);border-color:#1b7a74;color:#bff9f1}
    .btn.hot{background:linear-gradient(135deg,#2a1621,#1a0e15);border-color:#7d1e45;color:#ffd8e8}

    /* Main */
    .main{background:var(--panel);border:1px solid var(--edge);border-radius:16px;padding:16px}
    .tabbar{display:flex;gap:8px;margin-bottom:10px}
    .tab{background:#121a22;border:1px solid #22303c;color:#bfefff;border-radius:9px;padding:7px 11px;font-weight:700;cursor:pointer}
    .tab.active{background:linear-gradient(180deg,#15202a,#0f171f);border-color:#3a5569;color:#fff}
    .beta{font-size:.72em;color:#ffd166;margin-left:6px}
    .io{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:14px}
    .io .card{background:#0e151d;border:1px solid #22303c;border-radius:12px;min-height:160px;padding:10px}
    .io pre{white-space:pre-wrap;word-break:break-word;font-family:"Fira Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New";font-size:12.5px;line-height:1.4;margin:0}
    .tokens{display:flex;flex-wrap:wrap;gap:8px;max-height:180px;overflow:auto;border:1px dashed #213041;border-radius:12px;padding:8px;background:#0b1219}
    .token{padding:6px 9px;border-radius:999px;background:#0f1720;border:1px solid #203040;font-size:12px;cursor:pointer}
    .token:hover{border-color:#3b6177}

    /* Accordion (Help/FAQ) */
    .accordion{border:1px solid var(--edge);border-radius:12px;overflow:hidden;background:var(--card)}
    .acc-item+.acc-item{border-top:1px solid var(--edge)}
    .acc-head{width:100%;text-align:left;padding:12px 14px;background:#101821;color:#dff;display:flex;justify-content:space-between;align-items:center;cursor:pointer}
    .acc-head span{opacity:.8}
    .acc-body{display:none;padding:12px 14px;background:#0f151d;color:#cfe}

    /* J1NX + Footer */
    .j1nx-float-true{position:fixed;z-index:4000;right:2vw;bottom:calc(2.8vh + 125px);display:flex;flex-direction:column;align-items:center;pointer-events:all;user-select:none;min-width:0;max-width:360px}
    .j1nx-true-cutout-img{width:320px;height:320px;object-fit:contain;border-radius:32px;background:transparent !important;margin-bottom:-30px;position:relative;z-index:9;pointer-events:auto;transition:box-shadow .2s;box-shadow:none !important}
    .j1nx-bubble-true-main{background:rgba(22,23,31,0.97);border-radius:17px;box-shadow:0 4px 22px #be9cff66, 0 0 0 3px #23231f;border:2px solid var(--aqua);padding:1.1em 1.3em 1em;display:flex;flex-direction:column;align-items:center;min-width:290px;max-width:330px;position:relative;z-index:1}
    .j1nx-bubble-text-true{font-size:1.05em;color:#fff;margin:.42em 0 .20em;text-align:center;font-weight:600;text-shadow:0 1px 11px #1e1111cc;line-height:1.22;z-index:1}
    .j1nx-bubble-row-true{width:100%;display:flex;justify-content:center;gap:7px;margin:.13em 0 .10em}
    .j1nx-input-true{flex:1;font-size:1em;border-radius:8px;padding:7px 12px;border:1px solid var(--aqua);background:#171b22;color:var(--aqua);min-width:0}
    .j1nx-btn-true{font-size:.98em;padding:6.5px 14px;border-radius:8px;background:#22252b;border:1.3px solid var(--aqua);color:#aef7ee;font-weight:600;cursor:pointer}
    .j1nx-btn-true:hover{background:var(--aqua);color:#171b22;border-color:#fff}
    .j1nx-easteregg-true{font-size:.91em;color:#be9cff;background:#171b22e6;border-radius:7px 13px 12px 17px;margin-top:7px;padding:7px 17px 6px 13px;opacity:.85;pointer-events:none;text-align:center;width:94%;user-select:none;box-shadow:0 3px 13px #be9cff28;font-weight:600}
    @media (max-width:900px){.j1nx-float-true{min-width:99vw;max-width:99vw;right:1vw}.j1nx-bubble-true-main{min-width:97vw;max-width:99vw}.j1nx-true-cutout-img{width:112px;height:112px}}
    @media (max-width:700px){.j1nx-float-true{min-width:99vw;max-width:99vw;right:1vw}.j1nx-bubble-true-main{min-width:98vw;max-width:99vw}.j1nx-true-cutout-img{width:66px;height:66px}}

    footer{margin:24px auto 8px;padding:0;text-align:center;max-width:820px;width:100%;display:flex;flex-direction:column;align-items:center;background:none;position:relative;z-index:100}
    .footer-art{margin:0 0 12px 0;font-family:"Fira Mono",monospace;font-size:.96em;color:#a1ffe3;line-height:1.1;letter-spacing:.2px;text-align:center;white-space:pre;user-select:text}
    .footer-camo{font-size:15px;line-height:1.11;letter-spacing:1.7px;margin:5px 0 12px;text-align:center;opacity:.93;white-space:pre}
    .footer-bar{color:#88fffd;margin:12px auto 8px;font-size:1.04em;text-align:center;display:flex;justify-content:center;align-items:center;gap:8px;flex-wrap:wrap}
    .footer-bar a{color:var(--aqua)} .footer-bar a:hover{text-decoration:underline;color:#fff}

    .ad-slot{display:block;min-height:100px;border:1px dashed #213041;border-radius:12px;padding:4px;margin:14px 0;background:#0b1219}
    :focus-visible{outline:2px solid var(--aqua);outline-offset:2px;border-radius:8px}
  </style>
</head>
<body>
  <!-- ===== TOPBAR ===== -->
  <div class="topbar" role="navigation" aria-label="Primary">
    <div class="inner">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>PromptForge <span class="breadcrumbs">/ Builder</span></h1>
          <div class="breadcrumbs">Home ▸ Builder ▸ Image/Video</div>
        </div>
      </div>
      <div class="navlinks">
        <a href="/" title="Home">Home</a>
        <a href="/builder" title="Prompt Builder">Builder</a>
        <a href="/ansi" title="ANSIart Playground">ANSIart</a>
        <a href="/monster" title="PromptForge Monster">Monster</a>
        <a href="#panel-help" class="js-scroll-help" title="Help & FAQ">Help</a>
      </div>
      <div class="socials">
        <a href="https://bsky.app/profile/goreandgiggles.bsky.social" aria-label="Bluesky">Bsky</a>
        <a href="https://x.com/GoreandGiggles" aria-label="Twitter/X">X</a>
        <a class="bmc-btn" href="https://promptforge.online/support" aria-label="Buy Me a Coffee">☕ Buy Me a Coffee</a>
      </div>
    </div>
  </div>

  <!-- ===== HERO ===== -->
  <div class="wrap">
    <section class="hero">
      <div class="hero-card">
        <h2>Build elite prompts for SDXL, Flux, Midjourney & Runway</h2>
        <p>Toggle engines, genres, vibes and boosters. Drop tokens as chips. Export short/med/long. The text never looks default — it’s stitched, styled and contradiction-safe.</p>
        <div class="chipbar" id="quickChips"></div>
      </div>
      <div class="hero-card">
        <strong>SEO blurb:</strong>
        <p>PromptForge Online is a professional prompt authoring studio for SFW/NSFW image and video generation. With engine profiles, negatives, lighting recipes, lens effects and token-dense packs, it crafts prompts that models actually obey — faster than Perchance-style mixers.</p>
        <div class="chipbar">
          <span class="chip" title="Engine-specific phrasing">engine-aware</span>
          <span class="chip" title="Film-grade lighting patterns">cinematic lighting</span>
          <span class="chip" title="Tasteful or explicit, your call">NSFW/SFW switch</span>
          <span class="chip" title="Terse/Medium/Long">export presets</span>
        </div>
      </div>
    </section>
  </div>

  <!-- ===== TOOL ===== -->
  <section class="tool" id="tool">
    <aside class="sidebar">
      <div class="group">
        <label class="g-title" for="engineSel">Engine <span class="help" title="Adds engine-specific tokens and auto-negatives.">?</span></label>
        <select id="engineSel" aria-label="Engine"></select>
      </div>
      <div class="group row">
        <div>
          <label class="g-title" for="genreSel">Genre <span class="help" title="Sets sensible defaults (lighting, lens, palette)">?</span></label>
          <select id="genreSel" aria-label="Genre"></select>
        </div>
        <div>
          <label class="g-title" for="vibeSel">Vibe <span class="help" title="Softcore maps explicit slang → tasteful. Hardcore keeps explicit tokens.">?</span></label>
          <select id="vibeSel" aria-label="Vibe">
            <option value="softcore" selected>softcore</option>
            <option value="hardcore">hardcore</option>
            <option value="sfw">sfw</option>
          </select>
        </div>
      </div>
      <div class="group row">
        <div>
          <label class="g-title" for="styleSel">Style <span class="help" title="Sentence cadence: cinematic / poetic / tech">?</span></label>
          <select id="styleSel" aria-label="Style">
            <option>cinematic</option>
            <option>poetic</option>
            <option>tech</option>
          </select>
        </div>
        <div>
          <label class="g-title" for="partySel">Party <span class="help" title="Solo or group shorthand (mf, ff, mmf, fff)">?</span></label>
          <select id="partySel" aria-label="Party">
            <option value="solo">solo</option>
            <option value="ff">ff</option>
            <option value="mf">mf</option>
            <option value="mmf">mmf</option>
            <option value="fff">fff</option>
          </select>
        </div>
      </div>
      <div class="group">
        <label class="g-title" for="boostRange">Boost Level <span class="help" title="Adds quality tokens: 0=off, 3=max">?</span></label>
        <input type="range" id="boostRange" class="slider" min="0" max="3" step="1" value="2" />
      </div>
      <div class="group row">
        <div>
          <label class="g-title" for="lengthRange">Prompt Length <span class="help" title="Bias prompt verbosity: terse → rich">?</span></label>
          <input type="range" id="lengthRange" class="slider" min="0" max="2" step="1" value="1" />
        </div>
        <div>
          <label class="g-title" for="nsfwIntensity">NSFW Intensity <span class="help" title="Only applies if Allow Explicit + vibe ≠ SFW">?</span></label>
          <input type="range" id="nsfwIntensity" class="slider" min="0" max="3" step="1" value="1" />
        </div>
      </div>
      <div class="group">
        <label class="g-title" for="explicitChk">Allow Explicit <span class="help" title="If off, we still build rich SFW prompts.">?</span></label>
        <label style="display:flex;align-items:center;gap:8px"><input type="checkbox" id="explicitChk" checked /> <span>Yes</span></label>
      </div>

      <!-- Futuristic Mixer -->
      <div class="group">
        <div class="g-title">Mixer Weights <span class="help" title="Tell the mixer what to favor">?</span></div>
        <div class="row">
          <label>Sets <input type="range" id="mixSet" class="slider" min="0" max="3" step="1" value="1"/></label>
          <label>Lights <input type="range" id="mixLight" class="slider" min="0" max="3" step="1" value="2"/></label>
        </div>
        <div class="row">
          <label>Lenses <input type="range" id="mixLens" class="slider" min="0" max="3" step="1" value="1"/></label>
          <label>Wardrobe <input type="range" id="mixWard" class="slider" min="0" max="3" step="1" value="1"/></label>
        </div>
        <div class="row">
          <label>Mood <input type="range" id="mixMood" class="slider" min="0" max="3" step="1" value="2"/></label>
          <label>Lock Extras <input type="checkbox" id="mixLockExtras"/></label>
        </div>
      </div>

      <div class="group">
        <label class="g-title" for="tokenSearch">Token Search <span class="help" title="Filter the token bank by text">?</span></label>
        <input type="text" id="tokenSearch" placeholder="search tokens…"/>
      </div>
      <div class="group">
        <label class="g-title" for="extrasInput">Extras <span class="help" title="Click tokens to add or type free-form.">?</span></label>
        <textarea id="extrasInput" placeholder="e.g. light: clamshell, gel: tealorange, hair: blonde"></textarea>
        <div class="tokens" id="tokenBank"></div>
      </div>

      <div class="actions">
        <button class="btn primary" id="buildBtn">Build</button>
        <button class="btn" id="mixBtn" title="Add smart random chips based on Mixer Weights">Mix</button>
        <button class="btn aqua" id="exportShort">Export Short</button>
        <button class="btn aqua" id="exportMed">Export Med</button>
        <button class="btn aqua" id="exportLong">Export Long</button>
        <button class="btn hot" id="copyBtn">Copy Prompt</button>
        <button class="btn" id="snapshotSave">Save Snapshot</button>
        <button class="btn" id="snapshotLoad">Restore Snapshot</button>
      </div>

      <ins class="ad-slot"></ins>
      <!-- To enable a real ad unit, replace with your slot:
      <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4963053724895140" data-ad-slot="YOUR_SLOT_ID" data-ad-format="auto" data-full-width-responsive="true"></ins>
      <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> -->
    </aside>

    <main class="main">
      <div class="tabbar" role="tablist" aria-label="Builder Modes">
        <button class="tab active" role="tab" aria-selected="true" aria-controls="panel-image" data-tab="image">Image Builder</button>
        <button class="tab" role="tab" aria-selected="false" aria-controls="panel-video" data-tab="video">Video Builder <span class="beta">beta</span></button>
        <button class="tab" role="tab" aria-selected="false" aria-controls="panel-help" data-tab="help">Help</button>
      </div>

      <div id="panel-image">
        <div class="group">
          <label class="g-title" for="ideaInput">Your Idea <span class="help" title="Chatty text is fine — we parse intent and add tokens.">?</span></label>
          <textarea id="ideaInput" placeholder="e.g. rooftop neon editorial portrait, windy hair, mirror, marble backdrop"></textarea>
        </div>
        <div class="io">
          <div class="card">
            <strong>Prompt</strong>
            <pre id="promptOut"></pre>
          </div>
          <div class="card">
            <div style="display:flex;align-items:center;justify-content:space-between"><strong>Negative</strong> <button class="btn" id="negEditToggle" style="padding:6px 10px;font-weight:700">edit</button></div>
            <pre id="negativeOut"></pre>
            <div id="negEditBox" style="display:none;margin-top:8px"><textarea id="negativeEdit" placeholder=", lowres, blurry, jpeg artifacts" style="min-height:80px"></textarea></div>
          </div>
        </div>
        <div class="group" style="display:flex;gap:12px;align-items:center">
          <div id="lengthBadge" class="breadcrumbs" aria-live="polite">Length: balanced</div>
          <div id="countBadge" class="breadcrumbs" aria-live="polite">Tokens: 0</div>
        </div>
      </div>

      <div id="panel-video" style="display:none">
        <div class="row">
          <div class="group">
            <label class="g-title" for="shotSel">Shot Type <span class="help" title="ECU, CU, MS, LS with motion.">?</span></label>
            <select id="shotSel">
              <option value="shot: ecu">ECU</option>
              <option value="shot: cu">CU</option>
              <option value="shot: ms" selected>MS</option>
              <option value="shot: ls">LS</option>
            </select>
          </div>
          <div class="group">
            <label class="g-title" for="moveSel">Move <span class="help" title="tracking / push / orbit">?</span></label>
            <select id="moveSel">
              <option>move: track</option>
              <option>move: push</option>
              <option>cam: orbit</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="group">
            <label class="g-title" for="fpsSel">FPS</label>
            <select id="fpsSel">
              <option>fps: 24</option>
              <option selected>fps: 30</option>
              <option>fps: 60</option>
            </select>
          </div>
          <div class="group">
            <label class="g-title" for="aspectSel">Aspect</label>
            <select id="aspectSel">
              <option>ratio: 4:5</option>
              <option selected>ratio: 3:2</option>
              <option>ratio: 21:9</option>
            </select>
          </div>
        </div>
        <div class="actions">
          <button class="btn primary" id="buildVideo">Build Video Prompt</button>
        </div>
        <div class="card group">
          <h3>Video Tips</h3>
          <p>These tokens describe framing and motion — they don’t storyboard scenes. With <em>js/movie.js</em> loaded, we’ll map shot types to extra consistency tokens (e.g., motion smoothing, cut-safe phrasing) when available.</p>
        </div>
      </div>

      <div id="panel-help" style="display:none">
        <div class="accordion" id="faq">
          <div class="acc-item">
            <button class="acc-head"><strong>Quick Start</strong><span>▼</span></button>
            <div class="acc-body"><p>Type a chatty idea and click <b>Build</b>. Engines + Genres set smart defaults. Add chips from the token bank. Use <em>Boost</em> to intensify quality tokens. Export presets trim to short/med/long with clean punctuation.</p></div>
          </div>
          <div class="acc-item">
            <button class="acc-head"><strong>Softcore vs. Hardcore vs. SFW</strong><span>▼</span></button>
            <div class="acc-body"><p><b>SFW</b> adds strong safety negatives and cleans phrasing. <b>Softcore</b> implies details with tasteful mapping. <b>Hardcore</b> keeps explicit tokens when <b>Allow Explicit</b> is on.</p></div>
          </div>
          <div class="acc-item">
            <button class="acc-head"><strong>Why PromptForge beats stock builders</strong><span>▼</span></button>
            <div class="acc-body"><p>We don’t just concatenate words. Our packs resolve contradictions, dedupe overlaps, and stitch human-sounding sentences while staying token-dense so models obey. Engine profiles apply negatives that matter (e.g., deformations, banding, text artifacts).</p></div>
          </div>
          <div class="acc-item">
            <button class="acc-head"><strong>Saving & Snapshots</strong><span>▼</span></button>
            <div class="acc-body"><p>Use <b>Save Snapshot</b> to store your current setup in localStorage and <b>Restore Snapshot</b> later — entirely client-side, no login.</p></div>
          </div>
          <div class="acc-item">
            <button class="acc-head"><strong>Video prompts</strong><span>▼</span></button>
            <div class="acc-body"><p>The Video Builder is a framing/motion composer. With <code>js/movie.js</code> loaded, we add stability tokens. It’s not a storyboard system (yet).</p></div>
          </div>
        </div>
        <div class="card group">
          <h3>About PromptForge</h3>
          <p>Built in British Columbia by independent creators, PromptForge is a lean, fast authoring studio for image/video prompts. We obsess over small things (skin microtexture, photometric consistency, film-grade color) so your outputs feel high-end, not generic.</p>
          <p>Everything runs client-side — zero servers, zero sign-in. Copy, export, or save snapshots locally. Pro-grade results, no lock-in.</p>
        </div>
      </div>
    </main>
  </section>

  <!-- ===== MODAL ===== -->
  <div class="modal" id="modal" style="position:fixed;inset:0;background:rgba(2,6,10,.72);display:none;align-items:center;justify-content:center;z-index:5000">
    <div class="modal-card" style="width:min(920px,92vw);background:linear-gradient(180deg,#0f151c,#0b1016);border:1px solid #263242;border-radius:16px;padding:14px;box-shadow:0 10px 30px rgba(0,0,0,.45)">
      <div class="modal-header" style="display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px">
        <strong>Prompt copied</strong>
        <button class="close btn" id="closeModal" style="padding:6px 10px">Close</button>
      </div>
      <pre id="modalText" style="white-space:pre-wrap;word-break:break-word;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono','Courier New';font-size:12.5px;line-height:1.4;margin:0"></pre>
    </div>
  </div>

  <!-- ===== J1NX FLOAT ===== -->
  <div class="j1nx-float-true" id="j1nxFloatTrue">
    <img src="j1nx/j1nx_cutout.png" alt="J1nx" class="j1nx-true-cutout-img" id="j1nxCutoutTrue"/>
    <div class="j1nx-bubble-true-main" id="j1nxBubbleTrueMain">
      <div class="j1nx-bubble-text-true" id="j1nxBubbleTextTrue">
        <b>J1nx:</b> Hey you 👀—I’m J1nx. Ready to stir up a little trouble, or keep it PG? (I can do both.)
      </div>
      <div class="j1nx-bubble-row-true">
        <input class="j1nx-input-true" id="j1nxInputTrue" placeholder="Say something to J1nx..." maxlength="120" autocomplete="off" />
        <button class="j1nx-btn-true" id="j1nxSendTrue">Send</button>
      </div>
      <div class="j1nx-bubble-row-true">
        <button class="j1nx-btn-true" id="j1nxClearTrue">Clear Chat</button>
        <button class="j1nx-btn-true" id="j1nxSaveTrue">Save Chat</button>
      </div>
      <div class="j1nx-easteregg-true" id="j1nxEasterEggTrue">Double-tap the chat bubble or type <b>'unlock'</b> to reveal NSFW mode…</div>
    </div>
  </div>

  <!-- ===== FOOTER ===== -->
  <footer>
    <pre class="footer-art">
  ____      ____    U  ___ u  __  __    ____    _____    _____   U  ___ u   ____      ____  U _____ u   
U|  _"\ uU |  _"\ u  \/"_ \/U|' \/ '|uU|  _"\ u|_ " _|  |" ___|   \/"_ \/U |  _"\ uU /"___|u\| ___"|/   
\| |_) |/ \| |_) |/  | | | |\| |\/| |/\| |_) |/  | |   U| |_  u   | | | | \| |_) |/\| |  _ / |  _|"     
 |  __/    |  _ <.-,_| |_| | | |  | |  |  __/   /| |\  \|  _|/.-,_| |_| |  |  _ <   | |_| |  | |___     
 |_|       |_| \_\\_)-\___/  |_|  |_|  |_|     u |_|U   |_|    \_)-\___/   |_| \_\   \____|  |_____|    
 ||>>_     //   \\_    \\   <<,-,,-.   ||>>_   _// \\_  )(\\,-      \\     //   \\_  _)(|_   <<   >>    
(__)__)   (__)  (__)  (__)   (./  \.) (__)__) (__) (__)(__)(_/     (__)   (__)  (__)(__)__) (__) (__)   
    </pre>
    <pre class="footer-camo" id="footerCamo"></pre>
    <div class="footer-bar">
      Made underground in BC, Canada • #PromptForge •
      <a href="https://bsky.app/profile/goreandgiggles.bsky.social">Bluesky</a> •
      <a href="https://x.com/GoreandGiggles">Twitter/X</a> •
      <a href="terms.html">Legal</a>
    </div>
  </footer>

  <!-- ===== SCRIPTS ===== -->
  <!-- PF core BEFORE glue if you want expandStyleKey/sanitize/score -->
  <script src="picture (5).js" defer></script>
  <!-- Video brain -->
  <script src="js/movie.js" defer></script>
  <!-- J1NX brain -->
  <script src="assets/j1nx_brain.js" defer></script>

  <script>
    // Smooth scroll to Help
    document.addEventListener('click', (e)=>{
      const a=e.target.closest('.js-scroll-help');
      if(a){ e.preventDefault(); document.querySelector('[data-tab="help"]').click(); window.scrollTo({top:document.querySelector('#panel-help').getBoundingClientRect().top + window.scrollY - 80, behavior:'smooth'}); }
    });

    // ===== UI SEEDS =====
    const PF_UI = {
      engines: ['sdxl','flux','midjourney','runway','kandinsky','leonardo','playground'],
      genres : ['beauty','editorial','boudoir','fitness','swim','street','lifestyle','macro','product'],
      quick : {
        sets:['set: rooftop','set: studio-seamless','set: marble-floor','set: rain-street','set: neon-alley'],
        lights:['light: clamshell','light: rim','gel: tealorange','gel: magenta-cyan','light: backlit fog'],
        lenses:['lens: portrait 85mm','lens: wide 28mm','lens: macro 100mm','aperture: f/1.8','bokeh: creamy'],
        wardrobe:['wardrobe: silk robe','wardrobe: lingerie black','wardrobe: denim jacket','jewelry: gold hoops'],
        mood:['mood: tender','mood: sultry','mood: playful','mood: noir','mood: cyberpunk']
      }
    };

    // Engine profiles
    const ENGINE_PROFILES = {
      sdxl: { pos:['photoreal','subsurface scattering','skin texture detail','sharp focus'], neg:['lowres','blurry','jpeg artifacts','overexposed','underexposed','extra fingers','mutated'] },
      flux: { pos:['high dynamic range','filmic color grade','subtle grain'], neg:['low detail','flat lighting','banding'] },
      midjourney: { pos:['--style raw','--v 6'], neg:['deformed','blurry','text artifacts'] },
      runway: { pos:['video-ready framing','clean motion vectors'], neg:['strobing','rolling shutter'] },
      kandinsky: { pos:['bold color harmony'], neg:['washed out'] },
      leonardo: { pos:['hyperreal detail'], neg:['over-saturated'] },
      playground: { pos:['balanced tones'], neg:['posterization'] }
    };

    const GENRE_DEFAULTS = {
      beauty:  {extras:['makeup: soft glam','close-up','skin: luminous','light: butterfly']},
      editorial:{extras:['wardrobe: designer vibe','light: rim','pose: strong stance']},
      boudoir: {extras:['bedroom set','fabric: satin','light: high key','mood: intimate']},
      fitness: {extras:['gym set','sweat sheen','backlight rim','pose: athletic']},
      swim:    {extras:['beach set','wet look hair','golden hour','skin: sun-kissed']},
      street:  {extras:['urban night rain','neon signage','chromatic aberration','mood: gritty']},
      lifestyle:{extras:['natural window light','candid vibe','rule of thirds']},
      macro:   {extras:['macro close-up','shallow depth of field','soft bokeh']},
      product: {extras:['pbr','studio seamless','softbox','grid control','hdr']}
    };

    // Populate selects + chips + bank
    const engineSel = document.getElementById('engineSel');
    const genreSel  = document.getElementById('genreSel');
    PF_UI.engines.forEach(e=>{ const o=document.createElement('option'); o.textContent=e; engineSel.appendChild(o); });
    PF_UI.genres.forEach(g=>{ const o=document.createElement('option'); o.textContent=g; genreSel.appendChild(o); });

    const quickChips = document.getElementById('quickChips');
    ['sets','lights','lenses','wardrobe','mood'].forEach(k=>{
      (PF_UI.quick[k]||[]).forEach(t=>{ const s=document.createElement('span'); s.className='chip'; s.textContent=t; s.onclick=()=>addExtra(t); quickChips.appendChild(s); });
    });

    const bank = document.getElementById('tokenBank');
    const BANK_PRESETS = [
      'cinematic photo','high key','low key','rim light','softbox','beauty dish','color gel','volumetric godrays',
      'retro 80s','neo-noir','cyberpunk','vaporwave','toon shader','isometric','pixel art',
      'subsurface scattering','macro','portrait lens','wide angle','telephoto','rule of thirds','leading lines'
    ];
    function renderBank(filter=''){ bank.innerHTML=''; BANK_PRESETS.filter(tok=>tok.toLowerCase().includes(filter.toLowerCase())).forEach(tok=>{ const el=document.createElement('span'); el.className='token'; el.textContent=tok; el.onclick=()=>addExtra(tok); bank.appendChild(el); }); }
    document.getElementById('tokenSearch').addEventListener('input', e=>renderBank(e.target.value||'')); renderBank();

    function addExtra(t){ const ta=document.getElementById('extrasInput'); const sep = ta.value.trim()? ', ' : ''; ta.value = ta.value + sep + t; }

    // Tabs
    document.querySelectorAll('.tab').forEach(b=>{
      b.onclick=()=>{
        document.querySelectorAll('.tab').forEach(x=>{x.classList.remove('active'); x.setAttribute('aria-selected','false');});
        b.classList.add('active'); b.setAttribute('aria-selected','true');
        document.getElementById('panel-image').style.display = (b.dataset.tab==='image')?'block':'none';
        document.getElementById('panel-video').style.display = (b.dataset.tab==='video')?'block':'none';
        document.getElementById('panel-help').style.display  = (b.dataset.tab==='help')?'block':'none';
      };
    });

    // Optional style-key expansion (PF_CORE)
    function expandStyleKeys(str){
      if (!window.PF_CORE || !window.PF_CORE.expandStyleKey) return str;
      return String(str).replace(/style:([A-Za-z0-9_-]+)/g,(m,key)=>{
        const parts = window.PF_CORE.expandStyleKey(key)||[];
        return parts.length? parts.join(', '): key;
      });
    }

    // Compose prompt
    function composePrompt(ctx, extras){
      const engine = (ENGINE_PROFILES[ctx.engine]||{pos:[],neg:[]});
      const genre  = (GENRE_DEFAULTS[ctx.genre]?.extras)||[];
      const allowExplicit = !!ctx.allowExplicit && ctx.vibe !== 'sfw';
      const ideaRaw = document.getElementById('ideaInput').value || '';

      let merged = [ideaRaw, ...genre, ...extras, ...engine.pos].filter(Boolean).join(', ');
      merged = expandStyleKeys(merged);

      let cleaned = window.PF_CORE && window.PF_CORE.sanitize
        ? window.PF_CORE.sanitize(merged, { allowExplicit: allowExplicit, direction: allowExplicit? 'explicit':'clean' })
        : merged;

      // Length bias
      const lengthBias = Number(document.getElementById('lengthRange').value||1);
      if (lengthBias===0) cleaned = cleaned.split(', ').slice(0, 14).join(', ');
      if (lengthBias===2) cleaned += ', narrative: atmospheric detail';

      // Style cadence
      if (ctx.style === 'poetic') cleaned = cleaned.replace(/, /g, '; ').replace(/\b(and|with)\b/gi,'—');
      if (ctx.style === 'tech')   cleaned += ', metadata: ISO low, sharp optics, controlled lighting';

      // Boosters
      const boost = Number(document.getElementById('boostRange').value||0);
      if (boost>0) cleaned += ', quality: ultra detail, microtexture';
      if (boost>1) cleaned += ', photometric consistency, realistic skin';
      if (boost>2) cleaned += ', cinematic color grade, wide dynamic range';

      // NSFW intensity hint
      const nsfwInt = Number(document.getElementById('nsfwIntensity').value||0);
      if (allowExplicit && ctx.vibe!=='sfw' && nsfwInt>0) {
        const tiers = ['suggestive details','sensual tone','explicit descriptors'];
        cleaned += ', nsfw-tone: ' + tiers[Math.min(nsfwInt, tiers.length-1)];
      }

      // Party hint
      if (ctx.party && ctx.party!=='solo') cleaned += `, party: ${ctx.party}`;

      // Negatives
      let negatives = (engine.neg || []).slice();
      if (ctx.vibe==='softcore') negatives.push('explicit nudity','graphic detail');
      if (ctx.vibe==='sfw') negatives.push('nudity','sexual content');

      const negAppend = (document.getElementById('negativeEdit').value||'').trim();
      if (negAppend) negatives.push(negAppend);

      try { if (window.PF_CORE && window.PF_CORE.score) console.debug('PF score', window.PF_CORE.score(cleaned)); } catch(_){}

      return { prompt: cleaned.trim(), negative: negatives.join(', '), extras: extras };
    }

    function getCtx(){
      return {
        engine: document.getElementById('engineSel').value || 'sdxl',
        genre:  document.getElementById('genreSel').value || 'beauty',
        vibe:   document.getElementById('vibeSel').value || 'softcore',
        party:  document.getElementById('partySel').value || 'solo',
        style:  document.getElementById('styleSel').value || 'cinematic',
        allowExplicit: document.getElementById('explicitChk').checked
      };
    }

    function parseExtras(){
      const idea = document.getElementById('ideaInput').value;
      const intent = [];
      if (/portrait|beauty|close\\s*up/i.test(idea)) intent.push('portrait lens');
      if (/neon|night|cyber/i.test(idea)) intent.push('neo-noir','chromatic aberration');
      return [...intent, ...document.getElementById('extrasInput').value.split(',').map(x=>x.trim()).filter(Boolean)];
    }

    function updateBadges(txt){
      const tokens = txt.split(/[,;—]/).map(s=>s.trim()).filter(Boolean);
      document.getElementById('countBadge').textContent = 'Tokens: ' + tokens.length;
      const len = Number(document.getElementById('lengthRange').value||1);
      document.getElementById('lengthBadge').textContent = 'Length: ' + (len===0?'terse':len===1?'balanced':'rich');
    }

    function buildImage(){
      const out = composePrompt(getCtx(), parseExtras());
      document.getElementById('promptOut').textContent = out.prompt || '';
      document.getElementById('negativeOut').textContent = out.negative || '';
      updateBadges(out.prompt||'');
      return out;
    }
    document.getElementById('buildBtn').onclick = buildImage;

    // Negatives editor
    document.getElementById('negEditToggle').onclick = ()=>{
      const box=document.getElementById('negEditBox');
      box.style.display = (box.style.display==='none' || !box.style.display)? 'block':'none';
    };

    // Export + Modal
    function openModal(text){
      const m=document.getElementById('modal'); document.getElementById('modalText').textContent = text || '';
      m.style.display='flex'; navigator.clipboard?.writeText(text||'').catch(()=>{});
    }
    document.getElementById('closeModal').onclick = ()=>{document.getElementById('modal').style.display='none'};

    function exportBy(which){
      const base = composePrompt(getCtx(), parseExtras());
      let txt = base.prompt;
      if (which==='short')  txt = txt.split(', ').slice(0,12).join(', ');
      if (which==='medium') txt = txt.split(', ').slice(0,22).join(', ');
      document.getElementById('promptOut').textContent = txt;
      document.getElementById('negativeOut').textContent = base.negative;
      updateBadges(txt); openModal(txt);
    }
    document.getElementById('exportShort').onclick = ()=>exportBy('short');
    document.getElementById('exportMed').onclick   = ()=>exportBy('medium');
    document.getElementById('exportLong').onclick  = ()=>exportBy('long');

    document.getElementById('copyBtn').onclick = ()=>{ const text=document.getElementById('promptOut').textContent.trim(); if(text) openModal(text); };

    // Snapshots
    const SNAP_KEY='pf_builder_v1';
    document.getElementById('snapshotSave').onclick = ()=>{
      const data={
        ctx:getCtx(),
        idea: document.getElementById('ideaInput').value,
        extras: document.getElementById('extrasInput').value,
        neg: document.getElementById('negativeEdit').value,
        length: document.getElementById('lengthRange').value,
        nsfw: document.getElementById('nsfwIntensity').value
      };
      localStorage.setItem(SNAP_KEY, JSON.stringify(data));
    };
    document.getElementById('snapshotLoad').onclick = ()=>{
      try{
        const raw=localStorage.getItem(SNAP_KEY); if(!raw) return;
        const d=JSON.parse(raw);
        engineSel.value=d.ctx.engine; genreSel.value=d.ctx.genre;
        document.getElementById('vibeSel').value=d.ctx.vibe;
        document.getElementById('partySel').value=d.ctx.party;
        document.getElementById('styleSel').value=d.ctx.style;
        document.getElementById('explicitChk').checked=!!d.ctx.allowExplicit;
        document.getElementById('ideaInput').value=d.idea||'';
        document.getElementById('extrasInput').value=d.extras||'';
        document.getElementById('negativeEdit').value=d.neg||'';
        document.getElementById('lengthRange').value=d.length||'1';
        document.getElementById('nsfwIntensity').value=d.nsfw||'1';
        buildImage();
      }catch(_){}
    };

    // Mixer
    function randPick(arr,n){ const a=[...arr]; const out=[]; while(a.length&&out.length<n){ out.push(a.splice(Math.floor(Math.random()*a.length),1)[0]); } return out; }
    function mixTokens(){
      const w = (id)=>Number(document.getElementById(id).value||0);
      const counts = {
        sets: Math.round(w('mixSet')),
        lights: Math.round(w('mixLight')),
        lenses: Math.round(w('mixLens')),
        wardrobe: Math.round(w('mixWard')),
        mood: Math.round(w('mixMood'))
      };
      const chosen = [];
      Object.keys(counts).forEach(k=>{ if(counts[k]>0) chosen.push(...randPick(PF_UI.quick[k]||[], counts[k])); });
      if (!document.getElementById('mixLockExtras').checked) {
        const ta=document.getElementById('extrasInput'); const sep = ta.value.trim()? ', ' : ''; ta.value = ta.value + sep + chosen.join(', ');
      } else {
        const idea=document.getElementById('ideaInput'); const sep = idea.value.trim()? ', ' : ''; idea.value = idea.value + sep + chosen.join(', ');
      }
      const btn=document.getElementById('mixBtn'); const old=btn.textContent; btn.textContent='Mixed!'; setTimeout(()=>btn.textContent=old,900);
    }
    document.getElementById('mixBtn').onclick = mixTokens;

    // Build Video (hooks MovieCORE if present)
    document.getElementById('buildVideo').onclick = ()=>{
      const base = composePrompt(getCtx(), parseExtras());
      const ex = [document.getElementById('shotSel').value, document.getElementById('moveSel').value, document.getElementById('fpsSel').value, document.getElementById('aspectSel').value];
      let merged = base.prompt + ', ' + ex.join(', ');
      try{
        if (window.MovieCORE && typeof window.MovieCORE.enhance === 'function') {
          merged = window.MovieCORE.enhance(merged, { shot: ex[0], move: ex[1], fps: ex[2], ratio: ex[3] });
        } else if (window.MovieCORE && typeof window.MovieCORE.suggest === 'function') {
          merged += ', ' + (window.MovieCORE.suggest(ex) || '');
        }
      }catch(_){}
      document.getElementById('promptOut').textContent = merged;
      document.getElementById('negativeOut').textContent = base.negative;
      updateBadges(merged); openModal(merged);
    };

    // Footer camo
    (function(){
      const camoEl = document.getElementById("footerCamo");
      if (camoEl) {
        const colors = ["#64f2e3","#23d7ba","#4df6a0","#bdf6c3","#abffe6","#abb8b8"];
        const chars = "░▒▓▚▞▐▉█▛";
        function camoTick(t){
          let out = "";
          for(let i=0;i<62;i++) out += `<span style="color:${colors[(i+t)%colors.length]}">${chars[Math.floor(Math.random()*chars.length)]}</span>`;
          camoEl.innerHTML = out;
        }
        let t=0; camoTick(0); setInterval(()=>camoTick(++t), 1100);
      }
    })();

    // J1NX UI + brain
    (function(){
      const j1nxFloat = document.getElementById('j1nxFloatTrue');
      const cutout = document.getElementById('j1nxCutoutTrue');
      const bubble = document.getElementById('j1nxBubbleTrueMain');
      function isMobile() { return window.innerWidth < 700; }
      function shrinkJ1nx() { if(isMobile()){ j1nxFloat.classList.remove('j1nx-open'); bubble.style.display = "none"; } else { j1nxFloat.classList.add('j1nx-open'); bubble.style.display = "flex"; } }
      cutout.onclick = function(){ if(isMobile()){ const open=j1nxFloat.classList.toggle('j1nx-open'); bubble.style.display = open? 'flex':'none'; } };
      window.addEventListener('resize', shrinkJ1nx); shrinkJ1nx();
    })();
    (function(){
      let chatHistory = []; let nsfwUnlocked = false;
      function renderChat(){ const out = chatHistory.map(line => `<div>${line}</div>`).join(''); document.getElementById('j1nxBubbleTextTrue').innerHTML = out || "<b>J1nx:</b> Hey you 👀—I’m J1nx. Ready to stir up a little trouble, or keep it PG?"; }
      function addMsg(msg, isUser){ if (!msg) return; const name = isUser ? "<b>You:</b> " : "<b>J1nx:</b> "; chatHistory.push(name + msg); if (chatHistory.length > 8) chatHistory = chatHistory.slice(-8); renderChat(); }
      document.getElementById('j1nxBubbleTrueMain').addEventListener('dblclick', function() {
        nsfwUnlocked = true; document.getElementById('j1nxEasterEggTrue').innerHTML = "<b>NSFW mode unlocked!</b> You’re now in uncensored mode. Type anything..."; addMsg("NSFW mode unlocked! You’re now in uncensored mode.", false);
      });
      document.getElementById('j1nxSendTrue').onclick = function() {
        const input = document.getElementById('j1nxInputTrue'); const val = (input.value || '').trim(); if (!val) return; addMsg(val, true);
        if (/^unlock$/i.test(val)) { nsfwUnlocked = true; document.getElementById('j1nxEasterEggTrue').innerHTML = "<b>NSFW mode unlocked!</b> You’re now in uncensored mode. Type anything..."; addMsg("NSFW mode unlocked! You’re now in uncensored mode.", false); input.value = ""; return; }
        try {
          let reply = window.j1nxBrain ? window.j1nxBrain(val, chatHistory.length, nsfwUnlocked) : "(Missing assets/j1nx_brain.js)";
          let replyText = (reply && typeof reply === 'object') ? (reply.text || reply.reply || JSON.stringify(reply)) : reply;
          addMsg(replyText, false);
        } catch(e) { addMsg("Sorry, my brain glitched... (Check assets/j1nx_brain.js)", false); }
        input.value = "";
      };
      document.getElementById('j1nxInputTrue').addEventListener('keydown', e=>{ if (e.key === 'Enter') document.getElementById('j1nxSendTrue').click(); });
      document.getElementById('j1nxSaveTrue').onclick = function() {
        const text = chatHistory.map(line => line.replace(/<[^>]+>/g,'')).join('\n');
        const blob = new Blob([text], {type:'text/plain'}); const url = URL.createObjectURL(blob);
        const a = document.createElement('a'); a.href = url; a.download = 'j1nx_chat.txt'; document.body.appendChild(a); a.click();
        setTimeout(()=>{document.body.removeChild(a); URL.revokeObjectURL(url);}, 300);
      };
      document.getElementById('j1nxClearTrue').onclick = function(){ chatHistory = []; renderChat(); };
      renderChat();
    })();

    // Accordion toggle
    (function(){
      document.querySelectorAll('.acc-head').forEach(h=>{
        h.addEventListener('click',()=>{
          const body=h.nextElementSibling; const open=body.style.display==='block';
          body.style.display=open?'none':'block';
          h.querySelector('span').textContent=open?'▼':'▲';
        });
      });
    })();
  </script>
</body>
</html>
